#!/usr/bin/env python3


import sys
import argparse

import os.path

app_path = os.path.abspath(os.path.join(os.path.dirname(__file__), os.path.pardir,'app'))
sys.path.append(app_path)
import main




def start():
    parser = argparse.ArgumentParser()
    group = parser.add_mutually_exclusive_group()
    group.add_argument("-g", "--gui", action="store_true",help='launch debug gui window')
    parser.add_argument("-c",'--camera', type=int, help="usb camera port index")

    options = vars(parser.parse_args())

    empty_keys = [k for k,v in options.items() if v==None]
    for k in empty_keys:
        del options[k]
    


    app = main.Main(options)
    app.startApp()


if __name__ == "__main__":
    start()

